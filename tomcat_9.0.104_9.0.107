<section name="Tomcat 9.0.107 (remm)" rtext="2025-07-04">
  <subsection name="Catalina">
    <changelog>
      <fix>
        Ensure application configured welcome files override the defaults when
        configuring an embedded web application programmatically. (markt)
      </fix>
      <fix>
        Allow the default servlet to set the content length when the content
        length is known, no content has been written and a <code>Writer</code>
        is being used. (markt)
      </fix>
      <fix>
        <bug>69717</bug>: Correct a regression in the fix for CVE-2025-49125
        that prevented access to PreResources and PostResources when mounted
        below the web application root with a path that was terminated with a
        file separator. (remm/markt)
      </fix>
      <fix>
        <bug>69731</bug>: Fix an issue that meant that the value of
        <code>maxParameterCount</code> applied was smaller than intended for
        multipart uploads with non-file parts when the parts were processed
        before query string parameters. (markt)
      </fix>
      <fix>
        Align size tracking for multipart requests with FileUpload's use of
        <code>long</code>. (schultz)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <fix>
        <bug>69710</bug>: Increase the default for <code>maxPartCount</code>
        from <code>10</code> to <code>50</code>. Update the documentation to
        provide more details on the memory requirements to support multi-part
        uploads while avoiding a denial of service risk. (markt)
      </fix>
      <fix>
        <bug>69713</bug>: Correctly handle an HTTP/2 data frame that includes
        padding when the headers include a content-length. (remm/markt)
      </fix>
      <fix>
        Correctly collect statistics for HTTP/2 requests and avoid counting one
        request multiple times. Based on pull request <pr>868</pr> by
        qingdaoheze. (markt)
      </fix>
      <fix>
        Fix JMX value for <code>keepAliveCount</code> on the endpoint. Also add
        the value of <code>useVirtualThreads</code> in JMX. (remm)
      </fix>
      <fix>
        Improve stability of APR/native connector. (markt)
      </fix>
      <fix>
        <bug>69728</bug>: Remove incorrect warning when HTTP/2 is used with
        optional certificate verification and improve the warnings when a web
        application tries to use CLIENT-CERT with either HTTP/2 or a JSSE
        implementation of TLS 1.3. (markt)
      </fix>
      <fix>
        When setting the initial HTTP/2 connection limit, apply those limits
        earlier. (markt)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <scode>
        Remove <code>IMPL_OBJ_START</code> from EL grammar for
        <code>IDENTIFIER</code>. (markt)
      </scode>
      <scode>
        Remove the <code>INSTANCEOF</code> and <code>FUNCTIONSUFFIX</code>
        definitions from the EL grammar as both are unused. (markt)
      </scode>
    </changelog>
  </subsection>
  <subsection name="Web applications">
    <changelog>
      <add>
        Documentation. Provide more explicit guidance regarding the security
        considerations for enabling write access to the web application via
        WebDAV, HTTP PUT requests or similar. (markt)
      </add>
      <add>
        Documentation. Add a section on reverse proxies to the security
        considerations page. (markt)
      </add>
    </changelog>
  </subsection>
  <subsection name="Other">
    <changelog>
      <update>
        Update UnboundID to 7.0.3. (markt)
      </update>
      <update>
        Update Checkstyle to 10.25.1. (markt)
      </update>
      <update>
        Improvements to French translations. (remm)
      </update>
      <update>
        Improvements to Japanese translations provided by tak7iji. (markt)
      </update>
    </changelog>
  </subsection>
</section>
<section name="Tomcat 9.0.106 (remm)" rtext="2025-06-10">
  <subsection name="Catalina">
    <changelog>
      <fix>
        Add support for the <code>java:module</code> namespace which mirrors
        the <code>java:comp</code> namespace. (markt)
      </fix>
      <fix>
        Support parsing of multiple path parameters separated by <code>;</code>
        in a single URL segment. Based on pull request <pr>860</pr> by Chenjp.
        (markt)
      </fix>
      <add>
        Added support for limiting the number of parameters in HTTP requests through
        the new <code>ParameterLimitValve</code>. The valve allows configurable
        URL-specific limits on the number of parameters. (dsoumis)
      </add>
      <fix>
        <bug>69699</bug>: Encode redirect URL used by the rewrite valve with
        the session id if appropriate, and handle cross context with different
        session configuration when using rewrite. (remm)
      </fix>
      <add>
        <pr>863</pr>: Add support for comments at the end of lines in text
        rewrite map files to align behaviour with Apache httpd. Pull request
        provided by Chenjp. (markt)
      </add>
      <fix>
        <bug>69706</bug>: Fix saved request serialization issue in FORM
        introduced when allowing infinite session timeouts. (remm)
      </fix>
      <fix>
        Expand the path checks for Pre-Resources and Post-Resources mounted at a
        path within the web application. (markt)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <scode>
        <pr>861</pr>: Refactor <code>TaskQueue</code> to use the new interface
        <code>RetryableQueue</code> which enables better integration of custom
        <code>Executor</code>s which provide their own
        <code>BlockingQueue</code> implementation. Pull request provided by
        Paulo Almeida. (markt)
      </scode>
      <add>
        Provide finer grained control of multi-part request processing via two
        new attributes on the <code>Connector</code> element.
        <code>maxPartCount</code> limits the total number of parts in a
        multi-part request and <code>maxPartHeaderSize</code> limits the size of
        the headers provided with each part. Add support for these new
        attributes to the <code>ParameterLimitValve</code>. (markt)
      </add>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <fix>
        <bug>69696</bug>: Mark the JSP wrapper for reload after a failed
        compilation. (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Web applications">
    <changelog>
      <fix>
        <bug>69694</bug>: Improve error reporting of deployment tasks done
        using the manager webapp when a copy operation fails. (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Other">
    <changelog>
      <fix>
        Add thread name to webappClassLoader.stackTraceRequestThread message.
        Patch provided by Felix Zhang. (schultz)
      </fix>
      <update>
        Update the internal fork of Apache Commons FileUpload to 1.6.0
        (2025-06-05). (markt)
      </update>
      <update>
        Update EasyMock to 5.6.0. (markt)
      </update>
      <update>
        Update Checkstyle to 10.25.0. (markt)
      </update>
      <add>
        <pr>858</pr>: Extend improvements to CVE-2024-56337 protection to
        <code>service.bat</code>. Pull request provided by Markus Hoffrogge.
        (markt)
      </add>
      <fix>
        Use the full path when the installer for Windows sets calls
        <code>icacls.exe</code> to set file permissions. (markt)
      </fix>
      <update>
        Improvements to Japanese translations provided by tak7iji. (markt)
      </update>
    </changelog>
  </subsection>
</section>
<section name="Tomcat 9.0.105 (remm)" rtext="2025-05-13">
  <subsection name="Catalina">
    <changelog>
      <add>
        <bug>69588</bug>: Enable <code>allowLinking</code> to be set on
        <code>PreResources</code>, <code>JarResources</code> and
        <code>PostResources</code>. If not set explicitly, the setting will be
        inherited from the <code>Resources</code>. (markt)
      </add>
      <fix>
        <bug>69633</bug>: Add support for Filters using context root mappings.
        (markt)
      </fix>
      <fix>
        <pr>843</pr>: Fix off by one validation logic for partial PUT ranges
        and associated test case. Submitted by Chenjp. (remm)
      </fix>
      <scode>
        Replace the unused buffer in
        <code>org.apache.catalina.connector.InputBuffer</code> with a static,
        zero length buffer. (markt)
      </scode>
      <scode>
        Refactor GCI servlet to access resources via the
        <code>WebResource</code> API. (markt)
      </scode>
      <fix>
        <bug>69662</bug>: Report name in exception message when a naming lookup
        failure occurs. Based on code submitted by Donald Smith. (remm)
      </fix>
      <fix>
        Ensure that the FORM authentication attribute
        <code>authenticationSessionTimeout</code> works correctly when sessions
        have an infinite timeout when authentication starts. (markt)
      </fix>
      <add>
        Provide a content type based on file extension when web application
        resources are accessed via a URL. (markt)
      </add>
    </changelog>
  </subsection>
  <subsection name="Coyote">
    <changelog>
      <scode>
        Refactor the <code>SavedRequestInputFilter</code> so the buffered data
        is used directly rather than copied. (markt)
      </scode>
    </changelog>
  </subsection>
  <subsection name="Jasper">
    <changelog>
      <fix>
        <bug>69635</bug>: Add support to <code>javax.el.ImportHandler</code>
        for resolving inner classes. (markt)
      </fix>
      <add>
        <pr>842</pr>Add support for optimized execution of c:set and c:remove tags, when
        activated via JSP servlet param useNonstandardTagOptimizations.
        (jengebr)
      </add>
      <fix>
        Fix an edge case compilation bug for JSP and tag files on case
        insensitive file systems that was exposed by the test case for
        <bug>69635</bug>. (markt)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Web applications">
    <changelog>
      <fix>
        <bug>68876</bug>: Documentation. Update the UML diagrams for server
        start-up, request processing and authentication using PlantUML and
        include the source files for each diagram. (markt)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Other">
    <changelog>
      <update>
        Update Jacoco to 0.8.13. (remm)
      </update>
      <add>
        Explicitly set the locale to be used for Javadoc. For official releases,
        this locale will be English (US) to support reproducible builds.
      </add>
      <update>
        Update Byte Buddy to 1.17.5. (markt)
      </update>
      <update>
        Update Checkstyle to 10.23.1. (markt)
      </update>
      <update>
        Update file extension to media type mappings to align with the current
        list used by the Apache Web Server (httpd). (markt)
      </update>
      <update>
        Improvements to French translations. (remm)
      </update>
      <update>
        Improvements to Japanese translations provided by tak7iji. (markt)
      </update>
    </changelog>
  </subsection>
</section>
<section name="Tomcat 9.0.104 (remm)" rtext="2025-04-09">
  <subsection name="Catalina">
    <changelog>
      <fix>
        Fix use of <code>SSS</code> in <code>SimpleDateFormat</code>
        pattern for <code>AccessLogValve</code>. (rjung)
      </fix>
      <fix>
        Process possible path parameters rewrite production in the rewrite
        valve. (remm)
      </fix>
      <fix>
        <bug>69643</bug>: Optimize directory listing for large amount of files.
        Patch submitted by  Loic de l'Eprevier. (remm)
      </fix>
    </changelog>
  </subsection>
  <subsection name="Other">
    <changelog>
      <fix>
        Set <code>sun.io.useCanonCaches</code> in <code>service.bat</code>
        Based on pull request <pr>841</pr> by Paul Lodge. (remm)
      </fix>
      <fix>
        The minimum Java version to build a release is now Java 22, mirroring
        Tomcat 10.1. This removes the need for using a
        <code>java-ffm.home</code> property. (remm)
      </fix>
    </changelog>
  </subsection>
</section>
